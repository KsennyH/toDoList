(()=>{"use strict";const t=document.querySelector(".form"),e=document.querySelector(".form__input"),s=document.querySelector(".tasks"),n=document.querySelector(".todo__tasks");let a=[];function c(){if(0===a.length){const t='<div class="task-header">\n                                <div class="task-header__wrapper"> \n                                    <p class="task-header__text">Задачи в списке отсутствуют</p>\n                                    <img src="img/face.webp" alt="">\n                                </div>\n                            </div>';n.insertAdjacentHTML("afterbegin",t)}else{const t=document.querySelector(".task-header");t&&t.remove()}}function i(){localStorage.setItem("tasks",JSON.stringify(a))}function o(t){const e=t.status?"task__text task__text_done":"task__text",n=`<div id="${t.id}" class="tasks__item">\n                            <div class="task"> \n                                <div class="task__wrapper"> \n                                    <p class="${e}">${t.text}</p>\n                                    <div class="task__buttons">\n                                        <button class="task__btn btn btn_done" type="button"><img src="img/done.svg" alt=""></button>\n                                        <button class="task__btn btn btn_delete" type="button"><img src="img/delete.svg" alt=""></button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>`;s.insertAdjacentHTML("beforeend",n)}localStorage.getItem("tasks")&&(a=JSON.parse(localStorage.getItem("tasks")),a.forEach((t=>o(t)))),c(),t.addEventListener("submit",(function(t){t.preventDefault();const s=e.value,n={id:Date.now(),text:s,status:!1};a.push(n),i(),o(n),e.value="",e.focus(),c()})),s.addEventListener("click",(function(t){if(!t.target.classList.contains("btn_delete"))return;const e=t.target.closest(".tasks__item"),s=Number(e.id),n=a.findIndex((t=>t.id===s));a.splice(n,1),i(),e.remove(),c()})),s.addEventListener("click",(function(t){if(!t.target.classList.contains("btn_done"))return;const e=t.target.closest(".tasks__item"),s=Number(e.id),n=a.find((t=>t.id===s));n.status=!n.status,i(),e.querySelector(".task__text").classList.toggle("task__text_done")}))})();